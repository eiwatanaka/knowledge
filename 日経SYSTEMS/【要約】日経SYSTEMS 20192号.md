## 1. はじめに

以下雑誌の要約。

- 題名：日経SYSTEMS 2019/2号

## 2. 次に来るのはコレだ！2019年のITインフラ技術

#### 2-1. この章について
ITインフラの技術は移り変わりが激しい。2019年にブレーク必至の技術を以下のまとめる。
※日経BP社が毎年実施している**ITインフラテクノロジーAWARD**の選考で5名のITエキスパート審査員が議論した結果となる。

#### 2-2. [1位] コンテナオーケストレーションツール

- **コンテナオーケストレーションツール**とは、コンテナ化されたアプリケーションのデプロイやスケーリング、管理などを自動的で行えるツールである。ユーザー企業はDockerコンテナの稼働状況を監視したりする面倒な作業から解放され、アプリケーションの開発に専念できるようになる。
- 数年前は複数のコンテナオーケストレーションツールが乱立した状態だったが、最近の1年間で**Kubernetes(クバネティス)**が本命となった。
Kubernetesの特徴は、「宣言的アーキテクチャを採用していること」である。ユーザーがCPUやメモリの利用率などを設定ファイルで指定すると、Kubernetes側でその状態に近づけてくれるというもの。CPU利用率が高まれば、自動的にスケーリングして利用率を下げられる。

#### 2-3. [2位] エッジ向けAIチップ
- **エッジ向けAIチップ**は、エッジ端末に搭載する機械学習計算に特化した半導体チップのことである。エッジ端末に専用チップを搭載し、画像処理などの計算をCPUよりも低消費電力で効率よく行う狙いがある。
- IoT機器の普及に伴い、エッジ端末で取得したデータをクラウド側のAIエンジンで予測/分析する処理が増えている。「Siri」や「Cloud Speech-to-Text」が該当する。

#### 2-4. [3位] Intel Optane DC persistent memory
- **Intel Optane DC persistent memory**は、DIMMスロットに挿入し、メインメモリとして動作する。主な特徴は、これまでのDRAMに比べて安価で大容量であること、不揮発性のため電源断に強いなどが挙げられる。
- Optaneメモリはストレージから取得したデータをCPUの近くに大量に保持できるメリットがある。これにより、データ転送時の待ち時間を減らすことができ、システムのパフォーマンスを大幅に向上できる。
- インテルと米マイクロテクノロジーが共同開発した**3D XPoint**の技術が使われている。

## 3. フロントエンド開発激変 Webブラウザ最新技術

#### 3-1. この章について
Webフロントエンドにおいて、特に変化が激しいのがWebブラウザである。IEの進化が止まり、Chromeなどのブラウザが台頭してきた。Webブラウザの動向や関連技術について以下にまとめる。

#### 3-2. Webブラウザの最新動向
- Webコンテンツの開発は近年、**モバイルファースト**が当たり前である。しかしモバイルファーストが浸透したといえども、PC向けのWebブラウザをまるっきり考慮しないわけではない。そのため現在はスマートフォンでも、PCでも快適にコンテンツを利用できる**レスポンシブWebデザイン(RWD)**を採用したWebコンテンツ作りが当たり前となっている。RWDはスマートフォンとPCという異なる端末に対して、解像度や縦横比などを考慮して、動的にコンテンツの配置などを切り替える手法である。
- Webブラウザの内部は、**レンダリングエンジン**と**JavaScriptエンジン**に分かれており、それぞれに名前が付いている。エンジンが異なれば、挙動や見た目に違いが出てくる可能性があるため、Webコンテンツ開発においてはこれらのエンジンを考慮することが重要になる。
![エンジン.png](https://qiita-image-store.s3.amazonaws.com/0/247638/7f04ac8b-cfe0-9d3e-9a4e-eb585eaf89c6.png)

- テスト対象とするWebブラウザを選ぶための判断基準となるのが、Webブラウザのシェアとなる。
2014年10月時点ではIEのシェアが40％ほどでトップだったのが、2018年11月時点では15％まで下がり、Chromeが躍進し60％近くに達している。マイクロソフトが満を持してリリースしたEdgeは6％ほどしかない。事実上、デスクトップでは「Chrome一強」の状態なのが分かる。
また、スマートフォンではSafariが70％を超えており、一強の状態となっている。

#### 3-3. ECMAScriptのモダンな機能
- Webコンテンツ開発で欠かせないのがWebフロントエンドで動作する唯一のプログラミング言語の**ECMAScript**である。ECMAScriptは、国際標準化団体であるEcma Internationalが標準化している。JavaScriptはECMAScriptに基づいた言語である。近年のメジャーなWebブラウザは、ECMAScript 2017までの機能をほとんど実装している。
ECMAScriptの機能には以下のようなものがある。

##### 3-3-1. strictモード
- **strictモード**は、ECMAScriptのコーディングに厳密さを与える。例えば宣言されていない変数が登場するとエラーになる。
- もともとECMAScriptは初心者でも簡単に扱えるように、変数の宣言は必須ではない。しかし、変数の宣言がないことがバグの発見を難しくしている。strictモードで変数の宣言を強制することで、この問題を回避できる。

```
'use strict';
num = 2;  // エラー
```

##### 3-3-2. クラスベースの記述
- ECMAScriptはオブジェクト指向言語だが、Javaのようなクラスベースの言語ではなく、プロトタイプベースの言語となる。そのためECMAScriptには、他のオブジェクト指向言語では当たり前の「クラス」という概念がない。しかしECMAScript第6版からは、あたかもクラスベースの言語のようにコードが書けるようになった。クラスと合わせて、継承も用意されている。

##### 3-3-3. Promise
- **Promise**は、非同期処理を扱うためのオブジェクトである。コールバックで逐次非同期処理を実現しようとすると、コードがどんどん深くネストしてしまい、コードの可読性が低くなってしまう。Promiseを利用すれば、コードが深くネストすることなく、メインの処理を書けるようになる。

```
// Promiseなし
asyncFuncCallback(() => {
  console.log('step 1');
  asyncFuncCallback(() => {
    console.log('step 2');
    asyncFuncCallback(() => {
      console.log('step 3');
    })
  })
});

function asyncFuncCallback(callback) {
  window.setTimeout(() => {
    callback();
  }, 1000);
}
```

```
// Promiseあり
asyncFuncCallback().then(() => {
  console.log('step 1');
  return asyncFuncCallback();
}).then(() => {
  console.log('step 2');
  return asyncFuncCallback();
}).then(() => {
  console.log('step 3');
});

function asyncFuncCallback() {
  return new Promise((resolve) => {
    window.setTimeout(() => {
      resolve();
    }, 1000);
  });
}
```

#### 3-4. 知っておきたいJavaScript API
- ECMAScriptを使う上で、欠かせないのが、ECMAScriptの上で動作するAPIである。主な最新APIは以下のようなものがある。

##### 3-4-1. Service Worker
- **Service Worker**は、バックグラウンドで動作する環境のこと。オフラインでも動作する点が特徴。近年注目の**Progressive Web Apps(PWA)**を実現するためのキーテクノロジーとして注目を集めている。PWAはWebブラウザ向けのWebアプリを、あたかもネイティブアプリのように利用するための枠組みである。<br><br>
**<参考>** [**Webアプリを変える新仕様　PWA丸わかり**](https://qiita.com/i-tanaka730/private/3fd5b3064430fa857b91#3-web%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B%E6%96%B0%E4%BB%95%E6%A7%98pwa%E4%B8%B8%E3%82%8F%E3%81%8B%E3%82%8A)

##### 3-4-2. Push API
- スマートフォン向けアプリでは当たり前のプッシュ通知だが、それをWebアプリケーションで実現するのが**Push API**となる。Push APIはService Worker内で動作する、PWAのキーテクノロジーの1つである。
- ニュースサイトなどで、通知の許可を求めるダイアログが表示されることがあるが、これがPush APIによるプッシュ通知の許可を求めている表示となる。
![push.png](https://qiita-image-store.s3.amazonaws.com/0/247638/a163aa38-62c0-de09-eb8e-d9ff576426ca.png)
